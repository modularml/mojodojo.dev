import{_ as e,c as n,a as o,d as l,r as p,o as c}from"./app-CGzBYgfx.js";const t={};function r(i,s){const a=p("CommentService");return c(),n("div",null,[s[0]||(s[0]=o(`<p>Contributed by <a href="https://github.com/Alex19578" target="_blank" rel="noopener noreferrer">Alex1957</a></p><h1 id="dynamicvector" tabindex="-1"><a class="header-anchor" href="#dynamicvector"><span>DynamicVector</span></a></h1><h2 id="import" tabindex="-1"><a class="header-anchor" href="#import"><span>import</span></a></h2><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#7DCFFF;">from</span><span style="color:#A9B1D6;"> Vector </span><span style="color:#7DCFFF;">import</span><span style="color:#A9B1D6;"> DynamicVector</span></span></span></code></pre></div><h2 id="init" tabindex="-1"><a class="header-anchor" href="#init"><span>init</span></a></h2><p>You can reserve memory to add elements without the cost of copying everything if it grows too large.</p><p>Reserve 8 elements worth of memory:</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#9D7CD8;font-style:italic;">var</span><span style="color:#C0CAF5;"> vec</span><span style="color:#89DDFF;"> =</span><span style="color:#A9B1D6;"> DynamicVector</span><span style="color:#9ABDF5;">[</span><span style="color:#A9B1D6;">Int</span><span style="color:#9ABDF5;">](</span><span style="color:#FF9E64;">8</span><span style="color:#9ABDF5;">)</span></span></span></code></pre></div><h2 id="push-back" tabindex="-1"><a class="header-anchor" href="#push-back"><span>push_back</span></a></h2><p>To add elements to the vector, you can use the <code>push_back</code> method:</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">push_back</span><span style="color:#9ABDF5;">(</span><span style="color:#FF9E64;">10</span><span style="color:#9ABDF5;">)</span></span></span>
<span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">push_back</span><span style="color:#9ABDF5;">(</span><span style="color:#FF9E64;">20</span><span style="color:#9ABDF5;">)</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#0DB9D7;">len</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#9ABDF5;">))</span></span></span></code></pre></div><pre><code>2
</code></pre><h2 id="variables" tabindex="-1"><a class="header-anchor" href="#variables"><span>variables</span></a></h2><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">capacity</span><span style="color:#9ABDF5;">)</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">data</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">0</span><span style="color:#9ABDF5;">])</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">size</span><span style="color:#9ABDF5;">)</span></span></span></code></pre></div><pre><code>8
10
2
</code></pre><h2 id="indexing" tabindex="-1"><a class="header-anchor" href="#indexing"><span>indexing</span></a></h2><p>You can access and assign elements using indexes</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>No bounds checking, can access garbage data</p></div><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">0</span><span style="color:#9ABDF5;">])</span></span></span></code></pre></div><pre><code>10
</code></pre><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">1</span><span style="color:#9ABDF5;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#FF9E64;"> 42</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">1</span><span style="color:#9ABDF5;">])</span></span></span></code></pre></div><pre><code>42
</code></pre><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Setting elements this way won&#39;t increase the <code>len</code> so may lead to errors, you should only use <code>push_back</code> to add a new element, and use this to modify existing elements</p></div><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#0DB9D7;">len</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#9ABDF5;">))</span></span></span>
<span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">6</span><span style="color:#9ABDF5;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#FF9E64;"> 10</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#0DB9D7;">len</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#9ABDF5;">))</span></span></span></code></pre></div><pre><code>2
2
10
</code></pre><h2 id="copying" tabindex="-1"><a class="header-anchor" href="#copying"><span>copying</span></a></h2><p>This will result in a shallow copy, it&#39;ll be a pointer to the same location in memory:</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#9D7CD8;font-style:italic;">var</span><span style="color:#C0CAF5;"> vec2</span><span style="color:#89DDFF;"> =</span><span style="color:#A9B1D6;"> vec</span></span></span></code></pre></div><p>If we modify <code>vec</code> then <code>vec2</code> will also be updated:</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">0</span><span style="color:#9ABDF5;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#FF9E64;"> 99</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec2</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">0</span><span style="color:#9ABDF5;">])</span></span></span></code></pre></div><pre><code>99
</code></pre><p>Use deep copy to copy all the data to a different location in memory so it&#39;s independent from the original:</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#9D7CD8;font-style:italic;">var</span><span style="color:#C0CAF5;"> vec3</span><span style="color:#89DDFF;"> =</span><span style="color:#A9B1D6;"> vec</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">deepcopy</span><span style="color:#9ABDF5;">()</span></span></span></code></pre></div><p>Modifying the original now won&#39;t effect the new copy:</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">1</span><span style="color:#9ABDF5;">]</span><span style="color:#89DDFF;"> =</span><span style="color:#FF9E64;"> 100</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec3</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">1</span><span style="color:#9ABDF5;">])</span></span></span></code></pre></div><pre><code>42
</code></pre><h2 id="pop-back" tabindex="-1"><a class="header-anchor" href="#pop-back"><span>pop_back</span></a></h2><p>Access the last element, deallocate it, and reduce the element size by 1:</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>This will access garbage data if there are no elements left</p></div><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">pop_back</span><span style="color:#9ABDF5;">())</span></span></span></code></pre></div><pre><code>100
</code></pre><h2 id="reserve" tabindex="-1"><a class="header-anchor" href="#reserve"><span>reserve</span></a></h2><p>If it&#39;s greater than the current capacity then data is reallocated and moved:</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">reserve</span><span style="color:#9ABDF5;">(</span><span style="color:#FF9E64;">16</span><span style="color:#9ABDF5;">)</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">capacity</span><span style="color:#9ABDF5;">)</span></span></span></code></pre></div><pre><code>16
</code></pre><h2 id="resize" tabindex="-1"><a class="header-anchor" href="#resize"><span>resize</span></a></h2><p>Discard elements if smaller then current size, add uninitialized data if larger:</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">resize</span><span style="color:#9ABDF5;">(</span><span style="color:#FF9E64;">16</span><span style="color:#9ABDF5;">)</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#C0CAF5;">size</span><span style="color:#9ABDF5;">)</span></span></span></code></pre></div><pre><code>16
</code></pre><h2 id="clear" tabindex="-1"><a class="header-anchor" href="#clear"><span>clear</span></a></h2><p>Deallocates the data in the vector</p><div class="language-mojo" data-highlighter="prismjs" data-ext="mojo" data-title="mojo"><pre class="shiki tokyo-night vp-code" style="background-color:#1a1b26;color:#a9b1d6 language-mojo;"><code><span class="line"><span class="line"><span style="color:#A9B1D6;">vec</span><span style="color:#89DDFF;">.</span><span style="color:#7AA2F7;">clear</span><span style="color:#9ABDF5;">()</span></span></span>
<span class="line"><span class="line"><span style="color:#0DB9D7;">print</span><span style="color:#9ABDF5;">(</span><span style="color:#C0CAF5;">vec</span><span style="color:#9ABDF5;">[</span><span style="color:#FF9E64;">1</span><span style="color:#9ABDF5;">])</span></span></span></code></pre></div><pre><code>0
</code></pre>`,53)),l(a)])}const y=e(t,[["render",r],["__file","DynamicVector.html.vue"]]),h=JSON.parse('{"path":"/guides/std/Vector/DynamicVector.html","title":"DynamicVector","lang":"en-US","frontmatter":{"title":"DynamicVector","categories":"Vector","usage":"Dynamically allocated vector"},"headers":[{"level":2,"title":"import","slug":"import","link":"#import","children":[]},{"level":2,"title":"init","slug":"init","link":"#init","children":[]},{"level":2,"title":"push_back","slug":"push-back","link":"#push-back","children":[]},{"level":2,"title":"variables","slug":"variables","link":"#variables","children":[]},{"level":2,"title":"indexing","slug":"indexing","link":"#indexing","children":[]},{"level":2,"title":"copying","slug":"copying","link":"#copying","children":[]},{"level":2,"title":"pop_back","slug":"pop-back","link":"#pop-back","children":[]},{"level":2,"title":"reserve","slug":"reserve","link":"#reserve","children":[]},{"level":2,"title":"resize","slug":"resize","link":"#resize","children":[]},{"level":2,"title":"clear","slug":"clear","link":"#clear","children":[]}],"git":{"contributors":[{"name":"Mojo Dojo","username":"Mojo Dojo","email":"mojodojodev@gmail.com","commits":1,"url":"https://github.com/Mojo Dojo"},{"name":"Jack Clayton","username":"Jack Clayton","email":"jackos@me.com","commits":1,"url":"https://github.com/Jack Clayton"}]},"filePathRelative":"guides/std/Vector/DynamicVector.md"}');export{y as comp,h as data};
